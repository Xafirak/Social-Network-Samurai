"use strict";(self.webpackChunkreact_samurai=self.webpackChunkreact_samurai||[]).push([[167],{4167:function(e,s,n){n.r(s),n.d(s,{ProfileFUNC:function(){return F}});var i=n(2791),t=n(9439),r=n(5146),o={img:"ProfileInfo_img__UuWS1",descriptionBlock:"ProfileInfo_descriptionBlock__k4Pt3",description:"ProfileInfo_description__g7CbR",fullName:"ProfileInfo_fullName__HNhiP",contact_link:"ProfileInfo_contact_link__n9hXh",contact_media:"ProfileInfo_contact_media__ssBnZ",contact:"ProfileInfo_contact__jg1-h",contacts:"ProfileInfo_contacts__BblGN",aboutMe:"ProfileInfo_aboutMe__LyiV6",formControl:"ProfileInfo_formControl__EX9Hj",error:"ProfileInfo_error__5T5wW",formError:"ProfileInfo_formError__3Au54",statusText:"ProfileInfo_statusText__JatdO"},c=n(8478),a=n(184),l=function(e){var s=(0,i.useState)(!1),n=(0,t.Z)(s,2),r=n[0],c=n[1],l=(0,i.useState)(e.status),u=(0,t.Z)(l,2),d=u[0],f=u[1];(0,i.useEffect)((function(){f(e.status)}),[]);var x=function(){return r?(c(!1),console.log("editmode false"),e.updateStatus(d)):(c(!0),console.log("editmode true"))};return(0,a.jsxs)("div",{children:[!r&&e.isOwner?(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:o.statusText,onDoubleClick:x,children:e.status||"_____"})}):null,r&&(0,a.jsx)("div",{children:(0,a.jsx)("input",{onChange:function(e){f(e.currentTarget.value)},autoFocus:!0,onBlur:x,value:d})})]})},u=n(1773),d=n(5078),f=function(e){var s=e.onSubmit,n=e.profile,i=e.error;return(0,a.jsx)(d.l0,{onSubmit:s,initialValues:n,render:function(e){var s=e.handleSubmit;return(0,a.jsxs)("form",{onSubmit:s,children:[(0,a.jsx)("div",{children:(0,a.jsx)("button",{children:"Save changes"})}),i&&(0,a.jsx)("div",{className:o.formError,children:i||i.map((function(e){return e}))}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Full Name"}),(0,u.Gr)(void 0,"fullName",u.II,"Full name")]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Looking for a job"}),(0,u.Gr)(void 0,"lookingForAJob",u.II,"Do you need a job?",{type:"checkbox"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Job Description"}),(0,u.Gr)(void 0,"lookingForAJobDescription",u.gx,"describe your dream job")]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"About me"}),(0,u.Gr)(void 0,"aboutMe",u.gx,"Some details about you")]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{className:o.contacts,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),":",Object.keys(n.contacts).map((function(e){return(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:e.replace(/\b\w/g,(function(e){return e.toUpperCase()}))}),":",(0,u.Gr)(void 0,"contacts."+e,u.gx,e)]},e)}))]})]})}})},x=function(e){var s=e.profile,n=e.isOwner,i=e.activateEditMode;return(0,a.jsxs)("div",{children:[n?(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:i,children:"Wanna edit your Profile?"})}):null,(0,a.jsxs)("span",{children:[(0,a.jsx)("div",{className:o.fullName,children:s.fullName}),(0,a.jsxs)("div",{children:[" ",(0,a.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,a.jsxs)("div",{className:o.contacts,children:[(0,a.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),":",Object.keys(s.contacts).map((function(e){return(0,a.jsx)(h,{contactName:e,contactURL:s.contacts[e]},e)}))]}),(0,a.jsx)("div",{children:s.lookingForAJob?(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443 "}),"\u2713"]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443 "}),"\u2716"]})}),(0,a.jsxs)("div",{className:o.contact,children:[(0,a.jsx)("b",{children:"My skillZ"}),": ",s.lookingForAJobDescription]})]})]})},h=function(e){var s=e.contactName,n=e.contactURL;return(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:o.contact,children:(0,a.jsxs)("span",{children:[(0,a.jsxs)("b",{className:o.contact_media,children:[s.replace(/\b\w/g,(function(e){return e.toUpperCase()})),":"]}),!!n&&(0,a.jsxs)("span",{className:o.contact_link,children:[n," "]})]})})})},j=function(e){var s=e.profile,n=e.status,u=e.updateStatus,d=e.isOwner,h=e.savePhoto,j=e.saveProfile,v=e.error,m=e.isEditProfileWasSuccesfull,p=(0,i.useState)(!1),_=(0,t.Z)(p,2),b=_[0],g=_[1];if(!s)return(0,a.jsx)(r.Z,{});return(0,a.jsxs)("div",{className:"profileInfo",children:[(0,a.jsx)("div",{children:(0,a.jsx)("img",{className:o.img,src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwallpapercave.com%2Fwp%2FxefZBsj.jpg&f=1&nofb=1&ipt=739dd23f5464e125250fe492a68a3903c8f93acba5a7c4693889bdb932f22d59&ipo=images",alt:"beach"})}),(0,a.jsxs)("div",{className:o.descriptionBlock,children:[(0,a.jsxs)("div",{className:o.description,children:[(0,a.jsx)("img",{src:s.photos.large||c,alt:"",className:o.avatar}),(0,a.jsx)("div",{children:!d||(0,a.jsx)("input",{type:"file",onChange:function(e){var s;null!==(s=e.target.files)&&void 0!==s&&s.length&&h(e.target.files[0])}})}),(0,a.jsxs)("span",{className:o.aboutMe,children:[(0,a.jsx)("b",{children:"STATUS"}),":",(0,a.jsx)(l,{status:n,updateStatus:u,isOwner:d})]})]}),(0,a.jsx)("div",{className:o.description,children:b?(0,a.jsx)(f,{profile:s,onSubmit:function(e){j(e),console.log(m),!0===m&&g(!1)},error:v}):(0,a.jsx)(x,{profile:s,isOwner:d,activateEditMode:function(){return g(!0)}})})]})]})},v=function(e){var s=e.likeCount,n=(0,i.useState)(s),r=(0,t.Z)(n,2),o=r[0],c=r[1],l=(0,i.useState)(!1),u=(0,t.Z)(l,2),d=u[0],f=u[1];return(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{disabled:d,onClick:function(){return c((function(e){return e+1})),void f(!0)},children:"Like"}),(0,a.jsxs)("div",{style:{color:"pink"},children:["Likes: ",(0,a.jsx)("span",{children:o})]})]})},m="Post_myPosts__JjzAb",p="Post_myPosts_message__X0pZc",_="Post_likeBtn__Favkw",b=function(e){var s=e.message,n=e.likes;return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:m,children:[(0,a.jsx)("img",{src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.ELkGbqOuLQfk5CC-ZTSVZQHaHa%26pid%3DApi&f=1&ipt=e14d637863df1ce2951ca706b519dc8c2d85fff0e7a4090cb27cb9d970440749&ipo=images",alt:"pepe"}),(0,a.jsx)("div",{className:p,children:s}),(0,a.jsx)("div",{className:_,children:(0,a.jsx)(v,{likeCount:n})})]})})},g="MyPosts_postBlock__E1Qck",P="MyPosts_postBlock_title__kNIVV",k=n(9192),N=function(e){var s=e.postData,n=e.addMessage;return(0,a.jsxs)("div",{className:g,children:[(0,a.jsx)("h3",{className:P,children:"myPosts"}),s.map((function(e){return(0,a.jsx)(b,{message:e.message,likes:e.likes},e.id)})),(0,a.jsx)(k.Z,{addMessage:n})]})},S=function(e){return(0,a.jsxs)("div",{children:[(0,a.jsx)(j,{isOwner:e.isOwner,profile:e.profile,status:e.status,error:e.error,isEditProfileWasSuccesfull:e.isEditProfileWasSuccesfull,savePhoto:e.savePhoto,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),(0,a.jsx)(N,{postData:e.postData,addMessage:e.addMessage})]})},I=n(8687),C=n(7689),y=n(2815),F=function(){var e=(0,I.v9)((function(e){return e.profilePage.postData})),s=(0,I.v9)((function(e){return e.auth.userId})),n=(0,I.v9)((function(e){return e.profilePage.error})),t=(0,I.v9)((function(e){return e.profilePage.status})),r=(0,I.v9)((function(e){return e.profilePage.profile})),o=(0,I.v9)((function(e){return e.profilePage.isEditProfileWasSuccesfull})),c=(0,C.UO)(),l=(0,C.s0)(),u=(0,I.I0)(),d=+c.userId,f=s;function x(e,s){if(!e&&(e=s,!s))return l("/login");!function(e){u((0,y.Fq)(e))}(e),function(e){u((0,y.lR)(e))}(e)}return(0,i.useEffect)((function(){x(d,f)}),[d,f]),(0,a.jsx)("div",{children:(0,a.jsx)(S,{profile:r,status:t,isOwner:!c.userId,postData:e,updateStatus:function(e){u((0,y.Nf)(e))},addMessage:function(e){u(y.ef.addActionCreator(e))},savePhoto:function(e){u((0,y.Ju)(e))},saveProfile:function(e){u((0,y.Ii)(e))},error:n,isEditProfileWasSuccesfull:o})})}},9192:function(e,s,n){n(2791);var i=n(5078),t=n(3079),r=n(1773),o=n(184);s.Z=function(e){var s=(0,t.D)(255),n=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return function(e){return s.reduce((function(s,n){return s||n(e)}),void 0)}};return(0,o.jsx)(i.l0,{onSubmit:function(s){e.addMessage(s.messageBody)},render:function(e){var i=e.handleSubmit;return(0,o.jsxs)("form",{onSubmit:i,children:[(0,o.jsx)("div",{children:(0,r.Gr)(n(s),"messageBody",r.gx,"\u0422\u0432\u043e\u0439 \u043e\u0442\u0432\u0435\u0442...")}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)("button",{children:"CLICK !"})})]})}})}}}]);
//# sourceMappingURL=167.5cbcfcf0.chunk.js.map